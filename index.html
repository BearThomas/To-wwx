<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>张真源</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <!-- 引入手机端友好的思源黑体 -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    @keyframes butterflyFly {
      0% { transform: translate(0, 0) rotate(0deg); opacity: 1; }
      100% { transform: translate(var(--end-x), var(--end-y)) rotate(360deg); opacity: 0; }
    }
    
    .butterfly {
      position: fixed;
      width: 40px;
      height: 40px;
      font-size: 36px;
      line-height: 40px;
      text-align: center;
      animation: butterflyFly 3s linear forwards;
      z-index: 9999;
      pointer-events: none;
      user-select: none;
    }
    
    .music-player {
      transition: all 0.3s ease;
    }
    
    .music-player:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .gallery-item {
      transition: all 0.3s ease;
    }
    
    .gallery-item:hover {
      transform: scale(1.03);
    }
    
    .quote-card {
      transition: all 0.3s ease;
    }
    
    .quote-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .countdown-item {
      transition: all 0.3s ease;
    }
    
    .countdown-item:hover {
      transform: scale(1.05);
    }

    /* 手机端优化样式 */
    @media (max-width: 768px) {
      .text-3xl { font-size: 1.875rem; }
      .text-xl { font-size: 1.25rem; }
      .grid-cols-1 md\:grid-cols-2 { grid-template-columns: repeat(1, 1fr); }
      .design-preview { min-height: 200px !important; }
      .design-canvas > * { max-width: 90% !important; }
      .w-24 { width: 100px !important; }
      .w-16 { width: 80px !important; }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-pink-50 to-purple-50 min-h-screen font-sans text-gray-800">
  <!-- 蝴蝶特效容器 -->
  <div id="butterfly-container"></div>
  
  <!-- 导航栏 -->
  <nav class="bg-white shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <h1 class="text-xl font-bold text-pink-600">张真源</h1>
      <div class="flex space-x-2">
        <a href="#photos" class="hover:text-pink-600 transition text-sm">照片</a>
        <a href="#music" class="hover:text-pink-600 transition text-sm">音乐</a>
        <a href="#quotes" class="hover:text-pink-600 transition text-sm">名言</a>
        <a href="#design" class="hover:text-pink-600 transition text-sm">设计</a>
        <a href="#countdown" class="hover:text-pink-600 transition text-sm">倒计时</a>
      </div>
    </div>
  </nav>

  <!-- 主要内容 -->
  <main class="container mx-auto px-4 py-8">
    <!-- 照片部分 -->
    <section id="photos" class="mb-16">
      <h2 class="text-3xl font-bold text-center mb-8 text-pink-600">张真源的照片</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <a href="photos1.html">
          <div class="gallery-item bg-white rounded-xl overflow-hidden shadow-md">
            <img src="./Show/3.jpg" alt="张真源照片" class="w-full h-48 md:h-64 object-cover">
            <div class="p-4">
              <h3 class="font-semibold text-base md:text-lg">舞台表演</h3>
              <p class="text-gray-600 mt-2 text-sm">张真源在舞台上的精彩瞬间</p>
            </div>
          </div>
        </a>
        <!-- 其他照片项保持结构一致 -->
      </div>
    </section>

    <!-- 音乐部分 -->
    <section id="music" class="mb-16">
      <h2 class="text-3xl font-bold text-center mb-8 text-pink-600">张真源的音乐</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="music-player bg-white rounded-xl p-4 md:p-6 shadow-md">
          <h3 class="text-lg md:text-xl font-semibold mb-4">《光影》</h3>
          <audio controls class="w-full mt-2 h-10">
            <source src="光影.mp3" type="audio/mpeg">
            您的浏览器不支持音频元素。
          </audio>
          <button class="mt-4 px-3 py-1 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition text-sm download-btn" data-audio="https://lv-sycdn.kuwo.cn/0974fcad279e785cbed3b3247b5b5aab/683c7007/resource/30106/trackmedia/M500004a56kZ2RZMCW.mp3">下载音乐</button>
        </div>
        <!-- 其他音乐项保持结构一致 -->
      </div>
    </section>

    <!-- 名言部分 -->
    <section id="quotes" class="mb-16">
      <h2 class="text-3xl font-bold text-center mb-8 text-pink-600">张真源的名言</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="quote-card bg-white rounded-xl p-4 md:p-6 shadow-md">
          <blockquote class="text-base md:text-lg italic text-gray-700 copy-quote" style="cursor:pointer;">
            "机会可从来不会等人，原地踏步久了，就更难迈出下一步。"
          </blockquote>
          <div class="mt-4 text-right text-gray-500 text-sm">—— 张真源</div>
        </div>
        <!-- 其他名言项保持结构一致 -->
      </div>
    </section>

    <!-- 图片设计部分 -->
    <section id="design" class="mb-16">
      <h2 class="text-2xl font-bold text-center mb-6 text-pink-600">张真源图片设计</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="bg-white rounded-xl p-4 md:p-6 shadow-md">
          <h3 class="text-lg font-semibold mb-4">自定义设计</h3>
          <div class="flex flex-col space-y-3">
            <div class="flex items-center">
              <label class="w-24 text-sm">背景颜色:</label>
              <input id="bg-color" type="color" value="#fce7f3" class="flex-1 w-16 h-8 border rounded-lg p-0" />
            </div>
            <div class="flex items-center">
              <label class="w-24 text-sm">文字颜色:</label>
              <input id="text-color" type="color" value="#db2777" class="flex-1 w-16 h-8 border rounded-lg p-0" />
            </div>
            <div class="flex items-center">
              <label class="w-24 text-sm">字体:</label>
              <select id="font-family" class="flex-1 px-2 py-1 border rounded-lg text-sm">
                <option value="noto-sans-sc, sans-serif">思源黑体</option>
                <option value="Arial, sans-serif">Arial</option>
                <option value="'Times New Roman', serif">Times New Roman</option>
              </select>
            </div>
            <div class="flex items-center">
              <label class="w-24 text-sm">字号:</label>
              <input id="font-size" type="number" min="12" max="60" value="24" class="flex-1 px-2 py-1 border rounded-lg text-sm" />
            </div>
            <!-- 其他表单元素保持结构一致 -->
          </div>
        </div>
        <div id="design-preview" class="relative bg-pink-100 rounded-xl p-4 md:p-6 shadow-md min-h-40 md:min-h-64 flex items-center justify-center overflow-hidden">
          <div id="design-canvas" style="width:100%;height:100%;position:relative;">
            <div id="design-quote" style="position:absolute;left:20px;top:20px;cursor:move;user-select:none;font-size:16px;color:#db2777;font-family:'noto-sans-sc', sans-serif;max-width:90%;">
              "机会可从来不会等人，原地踏步久了，就更难迈出下一步。"<br><span style="font-size:10px;display:block;margin-top:4px;">—— 张真源</span>
            </div>
          </div>
        </div>
      </div>
      <div class="mt-4 text-center">
        <button id="download-design-btn" class="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition text-sm">下载设计图片</button>
      </div>
    </section>

    <!-- 生日倒计时部分 -->
    <section id="countdown" class="mb-16">
      <h2 class="text-2xl font-bold text-center mb-6 text-pink-600">张真源生日倒计时</h2>
      <div class="flex justify-center">
        <div class="bg-white rounded-xl p-4 md:p-6 shadow-md max-w-2xl w-full">
          <div class="text-center mb-4">
            <p class="text-sm md:text-lg">距离张真源的下一个生日还有</p>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
            <div class="countdown-item bg-pink-100 rounded-lg p-3 text-center">
              <div id="days" class="text-xl md:text-2xl font-bold text-pink-600">00</div>
              <div class="text-gray-600 text-xs md:text-sm">天</div>
            </div>
            <!-- 其他倒计时项保持结构一致 -->
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- 页脚 -->
  <footer class="bg-white py-4 border-t border-gray-200">
    <div class="container mx-auto px-4 text-center">
      <p class="text-gray-600 text-sm">儿童节快乐！这是送给吴同学的特别礼物</p>
      <p class="text-gray-500 text-xs mt-2">© 2025 张真源粉丝站</p>
    </div>
  </footer>

  <script>
    // 统一拖动事件处理（支持鼠标和触摸）
    function makeDraggable(el) {
      let isDragging = false, startX, startY, origX, origY;
      
      // 鼠标事件
      el.addEventListener('mousedown', (e) => handleDragStart(e));
      
      // 触摸事件
      el.addEventListener('touchstart', (e) => {
        handleDragStart(e.touches[0]);
        e.preventDefault(); // 阻止滚动
      });
      
      function handleDragStart(e) {
        isDragging = true;
        startX = e.clientX;
        startY = e.clientY;
        origX = parseInt(el.style.left) || 0;
        origY = parseInt(el.style.top) || 0;
        el.style.zIndex = 10;
        document.body.style.userSelect = 'none';
        
        // 绑定移动和结束事件
        document.addEventListener(isDragging ? 'mousemove' : 'touchmove', handleDragMove);
        document.addEventListener(isDragging ? 'mouseup' : 'touchend', handleDragEnd);
      }
      
      function handleDragMove(e) {
        const clientX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
        const clientY = e.type === 'touchmove' ? e.touches[0].clientY : e.clientY;
        const dx = clientX - startX;
        const dy = clientY - startY;
        el.style.left = (origX + dx) + 'px';
        el.style.top = (origY + dy) + 'px';
      }
      
      function handleDragEnd() {
        isDragging = false;
        document.body.style.userSelect = '';
        document.removeEventListener('mousemove', handleDragMove);
        document.removeEventListener('touchmove', handleDragMove);
        document.removeEventListener('mouseup', handleDragEnd);
        document.removeEventListener('touchend', handleDragEnd);
      }
    }

    // 初始化可拖动元素
    const designQuote = document.getElementById('design-quote');
    makeDraggable(designQuote);

    // 贴纸添加时应用拖动
    document.getElementById('add-sticker-btn').addEventListener('click', () => {
      const stickerDiv = document.createElement('div');
      // ...创建贴纸元素
      makeDraggable(stickerDiv);
    });

    // 图片上传时应用拖动
    document.getElementById('upload-img').addEventListener('change', (e) => {
      const img = document.createElement('img');
      // ...创建图片元素
      makeDraggable(img);
    });

    // 其他功能代码（保持原有逻辑）
    // 蝴蝶特效、复制名言、生成图片、倒计时等代码不变...

    // 加载html2canvas库
    (function() {
      const script = document.createElement('script');
      script.src = 'https://html2canvas.hertzen.com/dist/html2canvas.min.js';
      script.async = true;
      document.head.appendChild(script);
    })();
  </script>
</body>
</html>